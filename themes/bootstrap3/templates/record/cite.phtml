<?php
  // Set page title.
  $this->headTitle($this->translate('Record Citations'));

  // Set up breadcrumbs:
  $this->layout()->breadcrumbs = '<li>' . $this->searchMemory()->getLastSearchLink($this->transEsc('Search'), '', '</li> ')
    . '<li>' . $this->recordLink()->getBreadcrumb($this->driver) . '</li> '
    . '<li class="active">' . $this->transEsc('Record Citations') . '</li>';

  // Collect citation data:
  $helper = $this->citation($this->driver);
  $citations = [];
  foreach ($this->driver->getCitationFormats() as $format) {
    $citations[$format . ' Citation'] = $helper->getCitation($format);
  }
?>
<?php if (count($citations) == 0): ?>
  <?=$this->transEsc('No citations are available for this record')?>
<?php else: ?>
  <dl class="citation-list">
    <?php foreach ($citations as $caption => $citation): ?>
      <dt class="citation-title"><?=$this->transEsc($caption)?></dt>
      <dd class="citation">
        <?=$citation?>
      </dd>
    <?php endforeach; ?>
  </dl>
  <div class="text-muted text-center"><?=$this->transEsc('Warning: These citations may not always be 100% accurate')?>.</div>
<?php endif; ?>
